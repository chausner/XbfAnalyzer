<Window x:Class="XbfTools.XbfAnalyzer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="XBF Analyzer" Height="800" Width="1200"
        PreviewDragOver="Window_PreviewDragOver"
        Drop="Window_Drop" AllowDrop="True">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="2*" />
            <RowDefinition Height="4" />
            <RowDefinition Height="1*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="8">
            <TextBlock Name="nodeSectionTextBlock" Margin="0,0,16,0" Text="{Binding ElementName=nodeSectionSlider, Path=Value, StringFormat=Node section: {0}}" />
            <Slider Name="nodeSectionSlider" Width="350" IsSnapToTickEnabled="True" Maximum="0" SmallChange="1" LargeChange="1" TickFrequency="1" ValueChanged="nodeSectionSlider_ValueChanged" />
        </StackPanel>
        <ListView Grid.Row="1" Name="commandsListView" Grid.ColumnSpan="2" SelectionChanged="commandsListView_SelectionChanged"
              FontFamily="Consolas">
            <ListView.Resources>
                <Style TargetType="{x:Type ListViewItem}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding NodeSection}" Value="0">
                            <Setter Property="Foreground" Value="Black" />
                        </DataTrigger>
                    </Style.Triggers>
                    <Setter Property="Foreground" Value="#808080" />
                </Style>
            </ListView.Resources>
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="90" DisplayMemberBinding="{Binding NodeSection}" Header="Node section" />
                    <GridViewColumn Width="200" DisplayMemberBinding="{Binding BytesDisplay}" Header="Command Bytes" />
                    <GridViewColumn Width="500" DisplayMemberBinding="{Binding CommandDisplay}" Header="Command" />
                    <GridViewColumn Width="135" DisplayMemberBinding="{Binding ObjectStackSize}" Header="Object stack size" />
                    <GridViewColumn Width="150" DisplayMemberBinding="{Binding ObjectCollectionStackSize}" Header="Collection stack size" />
                </GridView>
            </ListView.View>
        </ListView>
        <GridSplitter Grid.Row="2" Grid.ColumnSpan="2" VerticalAlignment="Stretch" Height="4" HorizontalAlignment="Stretch" />
        <ListBox Name="objectStackListBox" Grid.Row="3" FontFamily="Consolas" />
        <ListBox Name="objectCollectionStackListBox" Grid.Row="3" Grid.Column="1" FontFamily="Consolas" />
    </Grid>
</Window>
